(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{12:function(e,t){e.exports={CLIENT_ORIGIN:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_BASE:"https://petful-server-bv.herokuapp.com/"}).CLIENT_ORIGIN||"http://localhost:8000/",PORT:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_BASE:"https://petful-server-bv.herokuapp.com/"}).PORT||8080}},25:function(e,t,n){e.exports=n(37)},26:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);n(26);var a=n(0),o=n.n(a),l=n(22),c=n.n(l),r=n(7),i=n(8),u=n(10),s=n(9),p=n(11),d=n(14),m=n(1),h=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).handleSubmit=function(){},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("img",{alt:"landing page cats and dogs",src:"https://en.bcdn.biz/Images/2016/11/4/c07c9571-92e9-4e09-a840-d2c17c2bc72f.jpg"}),o.a.createElement("p",null,"Welcome to Petful!: This shelter is based on a first come first server basis, FOR THE ANIMALS NOT YOU YOU GREEDY HUMAN. You're adopiton options are limited to the pets that have had the longest stay at the shelter out of all the pets in the shelter at the time you are visiting. Please move onto the adoption page and decide if you would like to adopt one of the wonderful pets we currently have available to you. Additionally, you must wait your turn in line before you will be presented with the ability to adopt."),o.a.createElement(d.b,{className:"link",to:"/adoption"},"Start the adoption process"))}}]),t}(o.a.Component),E=n(18),f=n.n(E),b=n(24),g=n(19);function O(e){return o.a.createElement("div",null,o.a.createElement("ul",null,o.a.createElement("li",null,"Image:",o.a.createElement("img",{alt:e.cat.description,src:e.cat.imageURL})),o.a.createElement("li",null,"Description:",e.cat.description),o.a.createElement("li",null,"Name:",e.cat.name),o.a.createElement("li",null,"Gender: ",e.cat.gender),o.a.createElement("li",null,"Breed: ",e.cat.breed),o.a.createElement("li",null,"Journey:",e.cat.story)),e.showAdoptBtn&&o.a.createElement("button",{onClick:function(){return e.selectAnimalBtn("cat")}},"Adopt this cat!"),o.a.createElement("ul",null,o.a.createElement("li",null,"Image: ",o.a.createElement("img",{alt:e.dog.description,src:e.dog.imageURL})),o.a.createElement("li",null,"Description:",e.dog.description),o.a.createElement("li",null,"Name: ",e.dog.name),o.a.createElement("li",null,"Gender: ",e.dog.gender),o.a.createElement("li",null,"Breed: ",e.dog.breed),o.a.createElement("li",null,"Journey:",e.dog.story)),e.showAdoptBtn&&o.a.createElement("button",{onClick:function(){return e.selectAnimalBtn("dog")}},"Adopt this dog!"),o.a.createElement("div",null,o.a.createElement("p",null,"I love all animals!"),e.showAdoptBtn&&o.a.createElement("button",{onClick:function(){return e.selectAnimalBtn("all")}},"Adopt all!")))}function v(e){var t=e.people.map((function(e,t){return o.a.createElement("li",{key:t},e)}));return o.a.createElement("div",null,o.a.createElement("h3",null,"List of people waiting to adopt"),o.a.createElement("ul",null,t),e.showSubmitBtn&&o.a.createElement("div",null,o.a.createElement("input",{type:"text",placeholder:"your name",value:e.name,onChange:e.onChange}),o.a.createElement("button",{onClick:e.onClick},"Submit")))}var y=n(12),A=n.n(y),S=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={dog:{},cat:{},people:[],name:"",showSubmitBtn:!0,type:""},n.handleGetPets=function(){return Promise.all([fetch("".concat(A.a.CLIENT_ORIGIN,"pets")),fetch("".concat(A.a.CLIENT_ORIGIN,"people"))]).then((function(e){var t=Object(g.a)(e,2),n=t[0],a=t[1];return n.ok?a.ok?Promise.all([n.json(),a.json()]):a.json().then((function(e){return Promise.reject(e)})):n.json().then((function(e){return Promise.reject(e)}))})).then((function(e){var t=Object(g.a)(e,2),a=t[0],o=t[1];n.setState({dog:a[1].dog,cat:a[0].cat,people:o})})).catch((function(e){return console.log({error:e})}))},n.nameChange=function(e){n.setState({name:e.target.value})},n.nameSubmit=function(){fetch("".concat(A.a.CLIENT_ORIGIN,"people"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({person:n.state.name})}).then((function(){n.handleGetPets().then((function(){n.showAdoptBtn?n.autoAddPeople():n.autoAdopt()}))})).catch((function(e){return console.log(e)})),n.setState({showSubmitBtn:!1})},n.autoAdopt=function(){setTimeout((function(){n.adopt().then((function(){n.showAdoptBtn?n.autoAddPeople():n.autoAdopt()}))}),2e3)},n.autoAddPeople=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=["Ricky","Julianne","Bubbles","Trevor","Randy"];setTimeout((function(){fetch("".concat(A.a.CLIENT_ORIGIN,"people"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({person:t[e]})});var a=n.state.people;a.push(t[e]),n.setState({people:a}),e++,n.state.people.length<5&&n.autoAddPeople(e)}),1e3)},n.adopt=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.deletePet(t);case 2:return e.next=4,n.handleGetPets();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deletePet=function(e){return fetch("".concat(A.a.CLIENT_ORIGIN,"pets"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e})})},n.selectAnimalBtn=function(e){"all"===e?(n.adopt(e),alert("You have adopted a cat and dog")):(n.adopt(e),alert("You have adopted a ".concat(e)))},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return this.handleGetPets()}},{key:"addPeeps",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(O,{cat:this.state.cat,dog:this.state.dog,showAdoptBtn:this.showAdoptBtn,selectAnimalBtn:this.selectAnimalBtn}),o.a.createElement(v,{people:this.state.people,name:this.state.name,onChange:this.nameChange,onClick:this.nameSubmit,showSubmitBtn:this.state.showSubmitBtn}))}},{key:"showAdoptBtn",get:function(){return this.state.people[0]===this.state.name}}]),t}(o.a.Component),T=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Petful"),o.a.createElement("div",null,o.a.createElement(d.a,null,o.a.createElement(m.c,null,o.a.createElement(m.a,{exact:!0,path:"/",component:h}),o.a.createElement(m.a,{path:"/adoption",component:S})))))}}]),t}(o.a.Component);c.a.render(o.a.createElement(T,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.d6f22c9d.chunk.js.map